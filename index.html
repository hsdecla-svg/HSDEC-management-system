<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HSDEC | Portal System</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; background: #0f172a; color: white; }
        .glass-card { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 2rem; }
        .form-input { background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); padding: 16px; border-radius: 1rem; width: 100%; color: white; outline: none; }
        .menu-btn { background: white; color: #0f172a; padding: 20px; border-radius: 1.5rem; font-weight: 900; text-align: center; transition: 0.3s; display: block; width: 100%; }
        .menu-btn:active { transform: scale(0.95); opacity: 0.9; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;

        const USERS = [
            { id: "Takashi", pw: "Tks83446423", name: "Mr. Takashi", role: "admin" },
            { id: "Chansouk", pw: "97372185", name: "Ms. Chansouk", role: "staff" },
            { id: "Mim", pw: "78277996", name: "Ms. Mim", role: "staff" },
            { id: "Chanthaviphone", pw: "96086112", name: "Mr. Chanthaviphone", role: "vv" },
            { id: "Sengmala", pw: "22886998", name: "Ms. Sengmala", role: "sv" },
            { id: "Guest", pw: "HSDEC2025", name: "Guest User", role: "guest" }
        ];

        function PortalApp() {
            const [user, setUser] = useState(null);
            const [loginForm, setLoginForm] = useState({ id: '', pw: '' });

            // ã™ã§ã«ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ã‹ãƒã‚§ãƒƒã‚¯ï¼ˆç°¡æ˜“çš„ãªã‚»ãƒƒã‚·ãƒ§ãƒ³ç¶­æŒï¼‰
            useEffect(() => {
                const savedUser = localStorage.getItem('hsdec_user');
                if (savedUser) setUser(JSON.parse(savedUser));
            }, []);

            const handleLogin = (e) => {
                e.preventDefault();
                const found = USERS.find(u => u.id === loginForm.id && u.pw === loginForm.pw);
                if (found) {
                    setUser(found);
                    localStorage.setItem('hsdec_user', JSON.stringify(found));
                } else {
                    alert("Invalid ID or Password");
                }
            };

            const handleLogout = () => {
                localStorage.removeItem('hsdec_user');
                setUser(null);
            };

            if (!user) {
                return (
                    <div className="flex items-center justify-center min-h-screen p-6">
                        <div className="glass-card p-8 w-full max-w-sm">
                            <h1 className="text-4xl font-black italic tracking-tighter mb-2 text-center">HSDEC</h1>
                            <p className="text-slate-400 text-center text-xs mb-8 font-bold uppercase tracking-widest">Management System</p>
                            <form onSubmit={handleLogin} className="space-y-4">
                                <div><input type="text" placeholder="User ID" className="form-input font-bold" onChange={e => setLoginForm({...loginForm, id: e.target.value})} /></div>
                                <div><input type="password" placeholder="Password" className="form-input text-center tracking-widest" onChange={e => setLoginForm({...loginForm, pw: e.target.value})} /></div>
                                <button className="w-full bg-blue-600 text-white py-4 rounded-2xl font-black uppercase shadow-xl hover:bg-blue-500 transition-all">Login</button>
                            </form>
                        </div>
                    </div>
                );
            }

            return (
                <div className="max-w-md mx-auto min-h-screen flex flex-col justify-center p-6">
                    <header className="mb-12 text-center">
                        <p className="text-blue-400 font-black text-xs uppercase mb-2">Welcome back</p>
                        <h1 className="text-3xl font-black">{user.name}</h1>
                        <p className="text-slate-500 text-[10px] font-bold uppercase mt-1">Authorized as: {user.role}</p>
                    </header>

                    <nav className="space-y-4">
                        <a href="worker.html" className="menu-btn">
                            <span className="block text-2xl mb-1">ðŸ“‹</span>
                            WORKER MANAGEMENT
                        </a>
                        <a href="finance.html" className="menu-btn">
                            <span className="block text-2xl mb-1">ðŸ’°</span>
                            FINANCE SYSTEM
                        </a>
                        
                        <div className="pt-8">
                            <button onClick={handleLogout} className="w-full text-slate-500 font-black text-xs uppercase border border-slate-800 py-4 rounded-2xl hover:bg-white hover:text-black transition-all">
                                Logout
                            </button>
                        </div>
                    </nav>

                    <footer className="mt-12 text-center text-slate-600 text-[8px] font-bold uppercase tracking-widest">
                        HSDEC Official Portal Â· 2026
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<PortalApp />);
    </script>
</body>
</html>
